#!/bin/sh

dbname="csc443"
username="calvincheng"
wherecond="tgs"
psql $dbname $username << EOF
CREATE TABLE IF NOT EXISTS Records (
         data0 VARCHAR(10),
         data1 VARCHAR(10),
         data2 VARCHAR(10),
         data3 VARCHAR(10),
         data4 VARCHAR(10),
         data5 VARCHAR(10),
         data6 VARCHAR(10),
         data7 VARCHAR(10),
         data8 VARCHAR(10),
         data9 VARCHAR(10),
                  data01 VARCHAR(10),
         data11 VARCHAR(10),
         data21 VARCHAR(10),
         data31 VARCHAR(10),
         data41 VARCHAR(10),
         data51 VARCHAR(10),
         data61 VARCHAR(10),
         data71 VARCHAR(10),
         data81 VARCHAR(10),
         data91 VARCHAR(10),
                  data02 VARCHAR(10),
         data12 VARCHAR(10),
         data22 VARCHAR(10),
         data32 VARCHAR(10),
         data42 VARCHAR(10),
         data52 VARCHAR(10),
         data62 VARCHAR(10),
         data72 VARCHAR(10),
         data82 VARCHAR(10),
         data92 VARCHAR(10),
                  data03 VARCHAR(10),
         data13 VARCHAR(10),
         data23 VARCHAR(10),
         data33 VARCHAR(10),
         data43 VARCHAR(10),
         data53 VARCHAR(10),
         data63 VARCHAR(10),
         data73 VARCHAR(10),
         data83 VARCHAR(10),
         data93 VARCHAR(10),
                  data04 VARCHAR(10),
         data14 VARCHAR(10),
         data24 VARCHAR(10),
         data34 VARCHAR(10),
         data44 VARCHAR(10),
         data54 VARCHAR(10),
         data64 VARCHAR(10),
         data74 VARCHAR(10),
         data84 VARCHAR(10),
         data94 VARCHAR(10),
                  data05 VARCHAR(10),
         data15 VARCHAR(10),
         data25 VARCHAR(10),
         data35 VARCHAR(10),
         data45 VARCHAR(10),
         data55 VARCHAR(10),
         data65 VARCHAR(10),
         data75 VARCHAR(10),
         data85 VARCHAR(10),
         data95 VARCHAR(10),
                  data06 VARCHAR(10),
         data16 VARCHAR(10),
         data26 VARCHAR(10),
         data36 VARCHAR(10),
         data46 VARCHAR(10),
         data56 VARCHAR(10),
         data66 VARCHAR(10),
         data76 VARCHAR(10),
         data86 VARCHAR(10),
         data96 VARCHAR(10),
                  data07 VARCHAR(10),
         data17 VARCHAR(10),
         data27 VARCHAR(10),
         data37 VARCHAR(10),
         data47 VARCHAR(10),
         data57 VARCHAR(10),
         data67 VARCHAR(10),
         data77 VARCHAR(10),
         data87 VARCHAR(10),
         data97 VARCHAR(10),
                  data08 VARCHAR(10),
         data18 VARCHAR(10),
         data28 VARCHAR(10),
         data38 VARCHAR(10),
         data48 VARCHAR(10),
         data58 VARCHAR(10),
         data68 VARCHAR(10),
         data78 VARCHAR(10),
         data88 VARCHAR(10),
         data98 VARCHAR(10),
                  data09 VARCHAR(10),
         data19 VARCHAR(10),
         data29 VARCHAR(10),
         data39 VARCHAR(10),
         data49 VARCHAR(10),
         data59 VARCHAR(10),
         data69 VARCHAR(10),
         data79 VARCHAR(10),
         data89 VARCHAR(10),
         data99 VARCHAR(10)

       );
\timing
select substring(data1, 1 ,5) from records where data0 >= 'a' and data0 <= 'b' group by substring(data1, 1, 5);
EOF